<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sabendo Mais ‚Äì Meus Materiais Exclusivos</title>
    <!-- Google Fonts: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Base styles for smooth transitions for theme switching */
        html {
            scroll-behavior: smooth;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* Default (Light) Theme Variables */
        :root {
            --color-green-600: #16a34a; /* Strong green */
            --color-green-800: #15803d; /* Darker green for gradient */
            --color-green-900: #14532d; /* Very dark green for footer */
            --color-light-bg: #f9fafb;  /* Light background for sections */
            --color-white: #ffffff;    /* Pure white */
            --color-dark-text: #333;   /* Default dark text */
            --color-light-gray: #f3f4f6; /* Lighter gray for section backgrounds */
            --color-medium-gray: #e5e7eb; /* Medium gray for borders/dividers */
            --color-dark-gray: #1f2937; /* Dark gray for footer/header in dark mode */
        }

        /* Dark Theme Variables */
        html.dark {
            --color-green-600: #22c55e; /* Brighter green for contrast in dark mode */
            --color-green-800: #16a34a; /* Adjusted dark green */
            --color-green-900: #0a471e; /* Even darker green */
            --color-light-bg: #1f2937;  /* Dark background for sections */
            --color-white: #111827;    /* Very dark background instead of white */
            --color-dark-text: #e5e7eb; /* Light text for dark mode */
            --color-light-gray: #374151; /* Darker gray for section backgrounds */
            --color-medium-gray: #4b5563; /* Darker medium gray */
            --color-dark-gray: #f9fafb; /* Lighter gray for footer/header text in dark mode */
        }

        /* Apply theme variables */
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--color-dark-text);
            background-color: var(--color-light-bg);
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .bg-gradient-to-r.from-green-600 { background-image: linear-gradient(to right, var(--color-green-600), var(--color-green-800)); }
        .bg-white { background-color: var(--color-white); }
        .bg-gray-50 { background-color: var(--color-light-bg); }
        .bg-gray-100 { background-color: var(--color-light-gray); }
        .bg-gray-800 { background-color: var(--color-dark-gray); } /* Adjusted for theme */
        .bg-gray-900 { background-color: var(--color-green-900); } /* Adjusted for theme */

        /* Text colors */
        .text-white { color: white; }
        .text-green-700 { color: var(--color-green-600); }
        .text-green-800 { color: var(--color-green-800); }
        .text-gray-700 { color: var(--color-dark-text); }
        .text-gray-800 { color: var(--color-dark-text); }
        .text-gray-300 { color: #d1d5db; } /* Static for icons in footer */
        .text-gray-400 { color: #9ca3af; } /* Static for footer text */
        .text-gray-500 { color: #6b7280; } /* Static for payment security */
        .text-red-500 { color: #ef4444; } /* Static for errors */

        /* Hover states */
        .hover\:bg-green-100:hover { background-color: #dcfce7; } /* Static green-100 */
        .hover\:bg-green-700:hover { background-color: var(--color-green-800); }
        .hover\:text-green-300:hover { color: #86efac; } /* Static green-300 for nav */
        .hover\:text-white:hover { color: white; } /* Static white for footer icons */

        /* Border colors */
        .border-green-600 { border-color: var(--color-green-600); }
        .border-gray-300 { border-color: var(--color-medium-gray); }
        .border-gray-200 { border-color: var(--color-medium-gray); }

        /* General element styles */
        .rounded-xl { border-radius: 0.75rem; }
        .shadow-lg { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .shadow-md { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); }
        .shadow-xl { box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); }
        .shadow-2xl { box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); }

        /* Animations */
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-down { animation: fadeInDown 0.8s ease-out forwards; }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up { animation: fadeInUp 0.8s ease-out forwards; animation-delay: 0.2s; }
        .btn-animate { transition: all 0.3s ease; }
        .btn-animate:hover { transform: scale(1.05); box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); }

        /* Aspect Ratios */
        .aspect-4-3 { padding-bottom: 75%; position: relative; height: 0; overflow: hidden; }
        .aspect-4-3 iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }

        /* Spinner */
        .spinner { border: 4px solid rgba(255, 255, 255, 0.3); border-top: 4px solid #fff; border-radius: 50%; width: 24px; height: 24px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* Video Player & Thumbnails */
        .video-modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.8); display: flex; align-items: center; justify-content: center; z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0.3s ease; }
        .video-modal-overlay.open { opacity: 1; visibility: visible; }
        .video-modal-content { position: relative; width: 90%; max-width: 960px; background-color: #000; border-radius: 0.75rem; overflow: hidden; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); }
        .video-modal-close { position: absolute; top: 1rem; right: 1rem; color: white; font-size: 2rem; cursor: pointer; z-index: 1001; background-color: rgba(0, 0, 0, 0.5); border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; transition: background-color 0.2s ease; }
        .video-modal-close:hover { background-color: rgba(0, 0, 0, 0.7); }
        .video-player-iframe-wrapper { position: relative; width: 100%; padding-top: 56.25%; /* 16:9 Aspect Ratio */ }
        .video-player-iframe-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }

        .video-thumbnail-wrapper {
            position: relative; cursor: pointer; overflow: hidden; border-radius: 0.75rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            aspect-ratio: 16 / 9; display: flex; align-items: center; justify-content: center;
        }
        .video-thumbnail-wrapper:hover { transform: translateY(-5px); box-shadow: 0 10px 15px rgba(0, 0, 0, 0.2); }
        .video-thumbnail-wrapper img { width: 100%; height: 100%; object-fit: cover; position: absolute; top: 0; left: 0; }
        .video-thumbnail-wrapper .play-icon-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            background-color: rgba(0, 0, 0, 0.5); color: white; opacity: 1;
            transition: background-color 0.2s ease-in-out; z-index: 10;
        }
        .video-thumbnail-wrapper .play-icon-overlay img { width: 70px; height: 70px; object-fit: contain; }

        .watched-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.7); color: white; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: bold; opacity: 0; transition: opacity 0.3s ease; z-index: 10; }
        .video-item.watched .watched-overlay { opacity: 1; }

        /* Hidden section for playlists */
        .hidden-section { display: none; opacity: 0; transition: opacity 0.5s ease-out; }
        .hidden-section.visible { display: block; opacity: 1; }

        /* Header Fixed & Mobile Menu */
        .main-header {
            background-color: var(--color-white);
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }
        .main-header.scrolled {
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        /* Mobile Menu specific styles */
        .mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 998;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .mobile-menu-overlay.open {
            opacity: 1;
            visibility: visible;
        }
        .mobile-menu {
            position: fixed;
            top: 0;
            right: -100%; /* Start off-screen */
            width: 70%; /* Adjust as needed */
            max-width: 300px;
            height: 100%;
            background-color: var(--color-dark-gray); /* Dark background for mobile menu */
            padding: 2rem;
            box-shadow: -5px 0 15px rgba(0,0,0,0.2);
            z-index: 999;
            transition: right 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
        }
        .mobile-menu.open {
            right: 0; /* Slide in */
        }
        .mobile-menu .nav-link-mobile {
            color: var(--color-white);
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            font-size: 1.2rem;
            text-align: left;
            transition: color 0.2s ease;
        }
        .mobile-menu .nav-link-mobile:last-child {
            border-bottom: none;
        }
        .mobile-menu .nav-link-mobile:hover {
            color: var(--color-green-600);
        }
        .close-menu-btn {
            color: white;
            font-size: 2rem;
            align-self: flex-end; /* Align to top right */
            margin-bottom: 1rem;
            cursor: pointer;
        }

        /* Testimonials Carousel */
        .carousel-container {
            position: relative;
            max-width: 900px;
            margin: 0 auto;
            overflow: hidden;
            border-radius: 0.75rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        .carousel-slides {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        .carousel-slide {
            flex: 0 0 100%; /* Each slide takes full width */
            padding: 2rem;
            text-align: center;
            background-color: var(--color-white);
        }
        .carousel-nav-dots {
            display: flex;
            justify-content: center;
            margin-top: 1.5rem;
        }
        .dot {
            width: 12px;
            height: 12px;
            background-color: var(--color-medium-gray);
            border-radius: 50%;
            margin: 0 0.5rem;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }
        .dot.active, .dot:hover {
            background-color: var(--color-green-600);
            transform: scale(1.2);
        }

        /* Theme Toggle Button */
        #theme-toggle {
            background-color: var(--color-white);
            color: var(--color-dark-text);
            border: 1px solid var(--color-medium-gray);
            padding: 0.5rem;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            position: fixed; /* Fixed position */
            bottom: 1.5rem; /* 24px from bottom */
            right: 1.5rem; /* 24px from right */
            z-index: 900; /* Below modals, above content */
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        #theme-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        #theme-toggle svg {
            width: 24px;
            height: 24px;
        }
        html.dark #theme-toggle {
            background-color: var(--color-dark-gray);
            color: var(--color-dark-text); /* It's light text in dark mode */
            border-color: var(--color-dark-gray);
        }

    </style>
</head>
<body class="bg-gray-50">
    <!-- Modal para exibi√ß√£o de v√≠deo -->
    <div id="videoModalOverlay" class="video-modal-overlay">
        <div class="video-modal-content">
            <span id="videoModalClose" class="video-modal-close">&times;</span>
            <div id="videoModalPlayerContainer" class="video-player-iframe-wrapper"></div>
        </div>
    </div>

    <!-- Mobile Menu Overlay & Content -->
    <div id="mobileMenuOverlay" class="mobile-menu-overlay"></div>
    <div id="mobileMenu" class="mobile-menu">
        <span id="closeMobileMenu" class="close-menu-btn">&times;</span>
        <a href="#produtos" class="nav-link-mobile">Meus Materiais</a>
        <a href="#faq" class="nav-link-mobile">Perguntas Frequentes</a>
        <a href="#playlist-toggle" id="mobilePlaylistToggleLink" class="nav-link-mobile">Minhas Playlists de V√≠deos</a>
        <a href="#about-creator" class="nav-link-mobile">Sobre Mim</a>
        <a href="#testimonials" class="nav-link-mobile">Depoimentos</a>
    </div>

    <!-- Se√ß√£o Principal (Hero Section) -->
    <header class="main-header bg-gradient-to-r from-green-600 to-green-800 text-white py-8 px-4 sm:px-6 lg:px-8 shadow-lg fixed w-full top-0 z-50">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
            <h1 class="text-3xl font-extrabold">Prof. George Homer</h1>
            <nav class="hidden md:flex space-x-8">
                <a href="#produtos" class="hover:text-green-300 transition duration-300 font-semibold">Meus Materiais</a>
                <a href="#faq" class="hover:text-green-300 transition duration-300 font-semibold">Perguntas Frequentes</a>
                <a href="#playlist-toggle" id="desktopPlaylistToggleLink" class="hover:text-green-300 transition duration-300 font-semibold">Minhas Playlists de V√≠deos</a>
                <a href="#about-creator" class="hover:text-green-300 transition duration-300 font-semibold">Sobre Mim</a>
                <a href="#testimonials" class="hover:text-green-300 transition duration-300 font-semibold">Depoimentos</a>
            </nav>
            <button id="openMobileMenu" class="md:hidden text-white focus:outline-none">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
            </button>
        </div>
    </header>

    <main class="pt-24"> <!-- Adjust padding-top to account for fixed header -->
        <section class="hero-section bg-gradient-to-r from-green-600 to-green-800 text-white py-20 px-4 sm:px-6 lg:px-8 shadow-lg">
            <div class="max-w-4xl mx-auto text-center">
                <h2 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold mb-4 animate-fade-in-down">
                    Sabendo Mais ‚Äì Conhecimento que Transforma!
                </h2>
                <p class="text-lg sm:text-xl mb-8 leading-relaxed animate-fade-in-up">
                    Explore o universo do aprendizado com o canal Sabendo Mais!
                    Aqui voc√™ encontra materiais did√°ticos exclusivos, pensados para te ajudar a dominar os conte√∫dos, se preparar para concursos e alcan√ßar seus objetivos.
                    Com abordagem clara, did√°tica eficiente e conte√∫do de qualidade, voc√™ estuda com prop√≥sito e confian√ßa.
                </p>
                <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-6">
                    <a href="https://www.youtube.com/@SabendoMais" target="_blank" rel="noopener noreferrer"
                       class="bg-white text-green-700 hover:bg-green-100 font-bold py-3 px-8 rounded-xl transition duration-300 transform hover:scale-105 shadow-md flex items-center justify-center btn-animate">
                        ‚ñ∂Ô∏è Acesse o Canal Sabendo Mais
                    </a>
                    <a href="https://pay.hotmart.com/T98544863J?off=8sxyq2zg&_hi=eyJzaWQiOiIxOGIxMzc2NTI0YjY0NWVkYmZlY2NjODU2MTM1NTFkOCIsImNpZCI6IjE3NTAxNzI5Nzc0ODA2OTg1ODA4NDc0NjMyNzc3MDAiLCJiaWQiOiIxNzUwMTcyOTc3NDgwNjk4NTgwODQ3NDYzMjc3NzAwIn0=.1750172981307&bid=1750172984495" target="_blank" rel="noopener noreferrer"
                       class="bg-green-700 text-white hover:bg-green-900 font-bold py-3 px-8 rounded-xl transition duration-300 transform hover:scale-105 shadow-md flex items-center justify-center btn-animate">
                        üìö Conhe√ßa o Curso Completo
                    </a>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o de Produtos -->
        <section id="produtos" class="py-16 px-4 sm:px-6 lg:px-8 bg-gray-50">
            <div class="max-w-xl mx-auto">
                <h2 class="text-4xl font-extrabold text-center mb-12 text-green-800">Meu Material Exclusivo para seu Sucesso!</h2>
                <div class="flex justify-center">
                    <!-- Card de Produto 1 (E-book IFRN) - √önico Produto por enquanto -->
                    <div class="group bg-white rounded-xl shadow-lg p-6 flex flex-col items-center text-center max-w-sm transition duration-300 hover:shadow-2xl hover:scale-105">
                        <img src="https://hotmart.s3.amazonaws.com/product_pictures/5dc91862-5ef0-4946-b0d8-48ed0a642e7e/Livro.png" alt="Capa do E-book Resolu√ß√£o das Provas de Matem√°tica IFRN" class="w-full h-auto object-contain rounded-md mb-4 group-hover:opacity-90 transition duration-300">
                        <h3 class="text-2xl font-semibold mb-2 text-green-700">E-book: Concurso IFRN ‚Äì Matem√°tica sem Complica√ß√µes</h3>
                        <p class="text-gray-700 mb-4 flex-grow">
                            Prepare-se com foco e estrat√©gia para o concurso de Professor de Matem√°tica do IFRN.
                            Este e-book re√∫ne quest√µes reais de provas anteriores, explica√ß√µes claras e organiza√ß√£o por temas.
                            Um material direto ao ponto, pensado para ajudar voc√™ a revisar com confian√ßa e ganhar vantagem na hora da prova.
                        </p>
                        <div class="flex flex-col items-center mt-4">
                            <span class="text-3xl font-bold text-green-800 mb-2">R$ 60,00</span>
                            <span class="text-sm text-gray-600 mb-4">Em at√© 8 parcelas</span>
                        </div>
                        <a href="https://pay.hotmart.com/T98544863J?off=8sxyq2zg&_hi=eyJzaWQiOiIxOGIxMzc2NTI0YjY0NWVkYmZlY2NjODU2MTM1NTFkOCIsImNpZCI6IjE3NTAxNzI5Nzc0ODA2OTg1ODA4NDc0NjMyNzc3MDAiLCJiaWQiOiIxNzUwMTcyOTc3NDgwNjk4NTgwODQ3NDYzMjc3NzAwIn0=.1750172981307&bid=1750172984449" target="_blank" rel="noopener noreferrer"
                           class="bg-green-600 text-white font-bold py-3 px-6 rounded-xl hover:bg-green-700 transition duration-300 shadow-md group-hover:shadow-lg">
                            Comprar agora
                        </a>
                        <p class="text-xs text-gray-500 mt-2">Pagamento 100% seguro com aprova√ß√£o instant√¢nea.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o de Garantia e Benef√≠cios -->
        <section class="py-16 px-4 sm:px-6 lg:px-8 bg-green-800 text-white">
            <div class="max-w-4xl mx-auto text-center">
                <h2 class="text-4xl font-extrabold mb-12">Sua Confian√ßa √© Minha Prioridade!</h2>
                <div class="flex justify-center">
                    <div class="flex flex-col items-center text-center max-w-xs">
                        <img src="https://static-media.hotmart.com/8KPkGFItneL88mXUySTWqeIXOxY=/filters:quality(100)/klickart-prod/uploads/media/file/6611564/en2_badge-garantia_use-case.png" alt="Selo de Garantia de 7 dias" class="w-32 h-32 mb-4">
                        <p class="text-2xl font-bold mb-2">Garantia de 7 dias</p>
                        <p class="text-lg">Sua satisfa√ß√£o ou seu dinheiro de volta, sem burocracia.</p>
                    </div>
                </div>
                <p class="text-lg mt-12 text-gray-200">
                    Seu pagamento √© 100% seguro e com aprova√ß√£o instant√¢nea. Comece a aprender agora mesmo!
                </p>
            </div>
        </section>

        <!-- Se√ß√£o D√∫vidas Frequentes e Suporte Inteligente -->
        <section id="faq" class="py-16 px-4 sm:px-6 lg:px-8 bg-white">
            <div class="max-w-4xl mx-auto text-center">
                <h2 class="text-4xl font-extrabold mb-12 text-green-800">D√∫vidas? Pergunte ao meu Assistente Inteligente!</h2>
                <p class="text-lg text-gray-700 mb-8">
                    Tem alguma d√∫vida sobre o e-book, o concurso ou o meu trabalho? Digite sua pergunta abaixo e meu assistente inteligente ir√° te ajudar.
                </p>
                <div class="bg-gray-100 p-8 rounded-xl shadow-lg">
                    <textarea id="questionInput" class="w-full p-4 rounded-md border border-gray-300 focus:ring-green-600 focus:border-green-600 resize-y min-h-[100px] mb-4 text-gray-700" placeholder="Digite sua pergunta aqui..."></textarea>
                    <button id="askButton" class="bg-green-600 text-white font-bold py-3 px-8 rounded-xl hover:bg-green-700 transition duration-300 shadow-md flex items-center justify-center mx-auto btn-animate">
                        <span id="buttonText">Obter Resposta</span>
                        <div id="loadingSpinner" class="spinner ml-2 hidden"></div>
                    </button>
                    <div id="answerOutput" class="mt-8 p-6 bg-white rounded-xl border border-gray-200 text-left text-gray-800 hidden">
                        <!-- Resposta da IA ser√° exibida aqui -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o Sobre o Conte√∫do e V√≠deo Principal (Mantida como um v√≠deo importante) -->
        <section class="py-16 px-4 sm:px-6 lg:px-8 bg-gray-100">
            <div class="max-w-6xl mx-auto">
                <h2 class="text-4xl font-extrabold text-center mb-12 text-green-800">Sobre o Conte√∫do: Prepara√ß√£o Completa e Eficiente</h2>
                <div class="flex flex-col md:flex-row items-center md:space-x-12">
                    <div class="md:w-1/2 mb-8 md:mb-0">
                        <div class="aspect-4-3 w-full rounded-xl overflow-hidden shadow-2xl transform hover:scale-100 transition duration-300">
                            <!-- YouTube Embed Responsivo com aspecto 4:3 -->
                            <iframe class="w-full h-full" src="https://www.youtube.com/embed/td7fpxlJcfc" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>
                    </div>
                    <div class="md:w-1/2 text-gray-700 text-lg leading-relaxed">
                        <p class="mb-4">
                            Este e-book re√∫ne as quest√µes de matem√°tica aplicadas nos concursos anteriores para Professor do IFRN.
                        </p>
                        <p class="mb-4">
                            O conte√∫do √© organizado por prova e estruturado para facilitar a revis√£o, o treino e o aprofundamento.
                        </p>
                        <p class="mb-4">
                            Ideal para quem busca conhecer o estilo das quest√µes, praticar com exemplos reais e revisar com efici√™ncia.
                            Tamb√©m √© uma excelente refer√™ncia para professores e estudantes que desejam se aprofundar nos temas mais recorrentes dos exames.
                        </p>
                        <p class="font-bold text-green-800">
                            Assista ao v√≠deo ao lado e descubra como este e-book ser√° seu maior aliado na busca pela aprova√ß√£o!
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o Escondida: Minhas Playlists de V√≠deos -->
        <section id="playlists-container" class="hidden-section py-16 px-4 sm:px-6 lg:px-8 bg-gray-50">
            <div class="max-w-6xl mx-auto">
                <h2 class="text-4xl font-extrabold text-center mb-12 text-green-800">Minhas Playlists de Sucesso!</h2>
                <p class="text-lg text-gray-700 text-center mb-10">
                    Organizei para voc√™ playlists completas com os melhores v√≠deos do meu canal. Acompanhe seu progresso e domine cada t√≥pico!
                </p>

                <!-- Playlist Card: Vestibular 2025 Resolu√ß√£o da Prova de Matem√°tica -->
                <div class="playlist-card bg-white rounded-xl shadow-lg p-6 mb-12">
                    <h3 class="text-3xl font-bold text-green-700 mb-6 text-center">Playlist: Vestibular 2025 Resolu√ß√£o da Prova de Matem√°tica</h3>
                    <div class="flex flex-col sm:flex-row items-center justify-center mb-6">
                        <span class="playlist-progress-text text-xl font-semibold text-gray-700 mr-4 whitespace-nowrap">0/4 v√≠deos assistidos</span>
                        <div class="w-full bg-gray-200 rounded-full h-4 mt-2 sm:mt-0">
                            <div class="playlist-progress-bar bg-green-600 h-4 rounded-full" style="width: 0%;"></div>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- V√≠deo 1 da Playlist -->
                        <div class="bg-gray-100 rounded-xl shadow-md flex flex-col video-item" data-playlist-id="vestibular-2025-matematica" data-video-id="tA_McsDk1Zo">
                            <div class="video-thumbnail-wrapper video-trigger">
                                <img src="https://img.youtube.com/vi/tA_McsDk1Zo/hqdefault.jpg" alt="Thumbnail do V√≠deo 1">
                                <div class="play-icon-overlay">
                                    <img src="https://cdn-icons-png.flaticon.com/128/1709/1709973.png" alt="Play Icon" class="w-16 h-16">
                                </div>
                                <div class="watched-overlay">ASSISTIDO ‚úÖ</div>
                            </div>
                            <div class="p-4 flex-grow">
                                <h4 class="text-lg font-semibold mb-2 text-green-700">Racioc√≠nio L√≥gico: Quest√µes de Concurso</h4>
                                <p class="text-gray-700 text-sm mb-3">Conceitos e exemplos de racioc√≠nio l√≥gico aplicados a concursos.</p>
                                <button class="mark-watched-btn bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition duration-300 text-sm w-full">
                                    Marcar como Assistido
                                </button>
                            </div>
                        </div>
                        <!-- V√≠deo 2 da Playlist -->
                        <div class="bg-gray-100 rounded-xl shadow-md flex flex-col video-item" data-playlist-id="vestibular-2025-matematica" data-video-id="7X7MgXNLRZA">
                            <div class="video-thumbnail-wrapper video-trigger">
                                <img src="https://img.youtube.com/vi/7X7MgXNLRZA/hqdefault.jpg" alt="Thumbnail do V√≠deo 2">
                                <div class="play-icon-overlay">
                                    <img src="https://cdn-icons-png.flaticon.com/128/1709/1709973.png" alt="Play Icon" class="w-16 h-16">
                                </div>
                                <div class="watched-overlay">ASSISTIDO ‚úÖ</div>
                            </div>
                            <div class="p-4 flex-grow">
                                <h4 class="text-lg font-semibold mb-2 text-green-700">Resolu√ß√£o de Problemas de An√°lise Combinat√≥ria</h4>
                                <p class="text-gray-700 text-sm mb-3">T√©cnicas de an√°lise combinat√≥ria com exerc√≠cios resolvidos.</p>
                                <button class="mark-watched-btn bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition duration-300 text-sm w-full">
                                    Marcar como Assistido
                                </button>
                            </div>
                        </div>
                        <!-- V√≠deo 3 da Playlist -->
                        <div class="bg-gray-100 rounded-xl shadow-md flex flex-col video-item" data-playlist-id="vestibular-2025-matematica" data-video-id="Bg_GH0NgCj8">
                            <div class="video-thumbnail-wrapper video-trigger">
                                <img src="https://img.youtube.com/vi/Bg_GH0NgCj8/hqdefault.jpg" alt="Thumbnail do V√≠deo 3">
                                <div class="play-icon-overlay">
                                    <img src="https://cdn-icons-png.flaticon.com/128/1709/1709973.png" alt="Play Icon" class="w-16 h-16">
                                </div>
                                <div class="watched-overlay">ASSISTIDO ‚úÖ</div>
                            </div>
                            <div class="p-4 flex-grow">
                                <h4 class="text-lg font-semibold mb-2 text-green-700">Equa√ß√µes do Segundo Grau: M√©todos de Resolu√ß√£o</h4>
                                <p class="text-gray-700 text-sm mb-3">Dominando a resolu√ß√£o de equa√ß√µes do segundo grau.</p>
                                <button class="mark-watched-btn bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition duration-300 text-sm w-full">
                                    Marcar como Assistido
                                </button>
                            </div>
                        </div>
                        <!-- V√≠deo 4 da Playlist -->
                        <div class="bg-gray-100 rounded-xl shadow-md flex flex-col video-item" data-playlist-id="vestibular-2025-matematica" data-video-id="Jx93SHkHMvo">
                            <div class="video-thumbnail-wrapper video-trigger">
                                <img src="https://img.youtube.com/vi/Jx93SHkHMvo/hqdefault.jpg" alt="Thumbnail do V√≠deo 4">
                                <div class="play-icon-overlay">
                                    <img src="https://cdn-icons-png.flaticon.com/128/1709/1709973.png" alt="Play Icon" class="w-16 h-16">
                                </div>
                                <div class="watched-overlay">ASSISTIDO ‚úÖ</div>
                            </div>
                            <div class="p-4 flex-grow">
                                <h4 class="text-lg font-semibold mb-2 text-green-700">Probabilidade Condicional: Quest√µes e Desafios</h4>
                                <p class="text-gray-700 text-sm mb-3">Aprofundando em probabilidade condicional com exerc√≠cios pr√°ticos.</p>
                                <button class="mark-watched-btn bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition duration-300 text-sm w-full">
                                    Marcar como Assistido
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o Conhe√ßa o Criador -->
        <section id="about-creator" class="py-16 px-4 sm:px-6 lg:px-8 bg-white">
            <div class="max-w-4xl mx-auto text-center">
                <h2 class="text-4xl font-extrabold text-center mb-12 text-green-800">Conhe√ßa George Homer: Meu Guia Rumo √† Aprova√ß√£o</h2>
                <div class="flex flex-col md:flex-row items-center md:space-x-12">
                    <div class="md:w-1/3 mb-8 md:mb-0">
                        <img src="https://static-media.hotmart.com/e-RuPwx6DmNN3q0i2AuBkPqW_EY=/filters:quality(100):format(webp)/klickart-prod/uploads/media/file/9118512/me.jpg" alt="Foto de George Homer Barbosa de Medeiros" class="w-60 h-60 object-cover rounded-full mx-auto shadow-2xl border-4 border-green-600 transition duration-300 hover:scale-105">
                    </div>
                    <div class="md:w-2/3 text-gray-700 text-lg text-left leading-relaxed">
                        <h3 class="text-2xl font-bold mb-3 text-green-700">George Homer Barbosa de Medeiros</h3>
                        <p class="mb-4">
                            Sou Professor de Matem√°tica, licenciado pelo Instituto Federal do Rio Grande do Norte (IFRN), com especializa√ß√£o em Matem√°tica Financeira e Probabilidade.
                        </p>
                        <p class="mb-4">
                            Sou Mestre em Matem√°tica pelo Programa de P√≥s-Gradua√ß√£o da Sociedade Brasileira de Matem√°tica (SBM), em parceria com a Universidade Federal do Rio Grande do Norte (UFRN).
                        </p>
                        <p>
                            Atualmente leciono no Instituto Federal de Roraima, contribuindo com a forma√ß√£o de estudantes no ensino t√©cnico e superior.
                        </p>
                        <p class="mt-6 text-xl font-semibold text-green-700">
                            Me acompanhe no Instagram para dicas di√°rias e conte√∫do exclusivo:
                            <a href="https://www.instagram.com/prof_george_homer?utm_source=ig_web_button_share_sheet&igsh=ZTlyaHl4YXQ0b2l2" target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-green-600 hover:text-green-800 transition duration-300 ml-2">
                                <img src="https://cdn-icons-png.flaticon.com/128/3955/3955024.png" alt="Instagram Icon" class="w-7 h-7 mr-1"> @prof_george_homer
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o de Depoimentos (Opcional) -->
        <section id="testimonials" class="py-16 px-4 sm:px-6 lg:px-8 bg-gray-100">
            <div class="max-w-4xl mx-auto text-center">
                <h2 class="text-4xl font-extrabold text-center mb-12 text-green-800">O que meus alunos de sucesso dizem:</h2>
                <div class="carousel-container">
                    <div class="carousel-slides">
                        <!-- Depoimento 1 -->
                        <div class="carousel-slide">
                            <div class="bg-white rounded-xl shadow-lg p-6 text-gray-800 flex flex-col items-center">
                                <p class="italic mb-4 text-center text-lg">
                                    "Os materiais do professor George transformaram meu estudo! A clareza e profundidade me deram a confian√ßa que eu precisava. Definitivamente, um investimento no meu futuro!"
                                </p>
                                <p class="font-semibold text-green-700">- Ana Clara, Estudante Aprovada</p>
                            </div>
                        </div>
                        <!-- Depoimento 2 -->
                        <div class="carousel-slide">
                            <div class="bg-white rounded-xl shadow-lg p-6 text-gray-800 flex flex-col items-center">
                                <p class="italic mb-4 text-center text-lg">
                                    "Nunca imaginei que aprender f√≠sica poderia ser t√£o cativante. As aulas extras s√£o um diferencial enorme e o material de exerc√≠cios √© impec√°vel. Recomendo a todos que buscam excel√™ncia!"
                                </p>
                                <p class="font-semibold text-green-700">- Jo√£o Pedro, Vestibulando de Destaque</p>
                            </div>
                        </div>
                         <!-- Depoimento 3 (Adicionado mais um para carrossel) -->
                        <div class="carousel-slide">
                            <div class="bg-white rounded-xl shadow-lg p-6 text-gray-800 flex flex-col items-center">
                                <p class="italic mb-4 text-center text-lg">
                                    "A did√°tica do professor George √© incr√≠vel! Consigo entender os conte√∫dos mais dif√≠ceis com facilidade. Meus resultados melhoraram muito!"
                                </p>
                                <p class="font-semibold text-green-700">- Maria Fernanda, Estudante Preparat√≥ria</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="carousel-nav-dots">
                    <span class="dot active" data-slide-index="0"></span>
                    <span class="dot" data-slide-index="1"></span>
                    <span class="dot" data-slide-index="2"></span>
                </div>
            </div>
        </section>
    </main>

    <!-- Rodap√© -->
    <footer class="bg-gray-900 text-white py-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-4xl mx-auto text-center">
            <p class="mb-6 text-lg">&copy; 2025 Sabendo Mais. Todos os direitos reservados.</p>
            <div class="flex justify-center space-x-8 mb-6">
                <a href="https://www.youtube.com/@SabendoMais" target="_blank" rel="noopener noreferrer" class="text-gray-300 hover:text-white transition duration-300 transform hover:scale-110">
                    <img src="https://cdn-icons-png.flaticon.com/128/3670/3670147.png" alt="YouTube Icon" class="w-9 h-9">
                </a>
                <a href="https://www.instagram.com/prof_george_homer?utm_source=ig_web_button_share_sheet&igsh=ZTlyaHl4YXQ0b2l2" target="_blank" rel="noopener noreferrer" class="text-gray-300 hover:text-white transition duration-300 transform hover:scale-110">
                    <img src="https://cdn-icons-png.flaticon.com/128/3955/3955024.png" alt="Instagram Icon" class="w-9 h-9">
                </a>
                <a href="#top" class="text-gray-300 hover:text-white transition duration-300 transform hover:scale-110">
                    <img src="https://cdn-icons-png.flaticon.com/128/9713/9713317.png" alt="Home Icon" class="w-9 h-9">
                </a>
            </div>
            <p class="text-gray-400">Transformando seu futuro, um material por vez.</p>
        </div>
    </footer>

    <!-- Bot√£o de Alternar Tema -->
    <button id="theme-toggle" aria-label="Toggle Theme">
        <!-- Sun icon for light theme -->
        <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: block;">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
        </svg>
        <!-- Moon icon for dark theme (initially hidden) -->
        <svg class="moon-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>
    </button>

    <!-- Script para o YouTube IFrame Player API -->
    <script src="https://www.youtube.com/iframe_api"></script>

    <script>
        // Objeto global para armazenar inst√¢ncias de players do YouTube
        let youtubePlayers = {};

        // Vari√°veis de estado para controlar a prontid√£o do DOM e da API do YouTube
        let domReady = false;
        let ytApiReady = false;

        // Fun√ß√£o que verifica se tudo est√° pronto e ent√£o inicializa a l√≥gica principal
        function checkIfReadyAndInitialize() {
            if (domReady && ytApiReady) {
                initializeSiteLogic();
            }
        }

        // Event listener para quando o DOM estiver completamente carregado
        document.addEventListener('DOMContentLoaded', () => {
            domReady = true;
            checkIfReadyAndInitialize();
        });

        // Fun√ß√£o chamada automaticamente pelo YouTube IFrame Player API quando pronto
        function onYouTubeIframeAPIReady() {
            ytApiReady = true;
            checkIfReadyAndInitialize();
        }

        function initializeSiteLogic() {
            // --- Sele√ß√£o de Elementos DOM ---
            const mainHeader = document.querySelector('.main-header');
            const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');
            const mobileMenu = document.getElementById('mobileMenu');
            const openMobileMenuBtn = document.getElementById('openMobileMenu');
            const closeMobileMenuBtn = document.getElementById('closeMobileMenu');
            const mobileNavLinks = document.querySelectorAll('#mobileMenu .nav-link-mobile');

            const questionInput = document.getElementById('questionInput');
            const askButton = document.getElementById('askButton');
            const buttonText = document.getElementById('buttonText');
            const loadingSpinner = document.getElementById('loadingSpinner');
            const answerOutput = document.getElementById('answerOutput');

            const playlistToggleLinkDesktop = document.getElementById('desktopPlaylistToggleLink');
            const playlistToggleLinkMobile = document.getElementById('mobilePlaylistToggleLink');
            const playlistsContainer = document.getElementById('playlists-container');

            const videoModalOverlay = document.getElementById('videoModalOverlay');
            const videoModalCloseBtn = document.getElementById('videoModalClose');
            const videoModalPlayerContainer = document.getElementById('videoModalPlayerContainer');

            const testimonialsContainer = document.querySelector('.carousel-container');
            const testimonialSlides = document.querySelector('.carousel-slides');
            const testimonialDots = document.querySelectorAll('.carousel-nav-dots .dot');

            const themeToggleBtn = document.getElementById('theme-toggle');
            const sunIcon = themeToggleBtn.querySelector('.sun-icon');
            const moonIcon = themeToggleBtn.querySelector('.moon-icon');

            // --- Cabe√ßalho Fixo com Transi√ß√£o ao Rolar ---
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    mainHeader.classList.add('scrolled');
                } else {
                    mainHeader.classList.remove('scrolled');
                }
            });

            // --- Menu Mobile Colaps√°vel ---
            openMobileMenuBtn.addEventListener('click', () => {
                mobileMenuOverlay.classList.add('open');
                mobileMenu.classList.add('open');
            });

            closeMobileMenuBtn.addEventListener('click', () => {
                mobileMenuOverlay.classList.remove('open');
                mobileMenu.classList.remove('open');
            });

            mobileMenuOverlay.addEventListener('click', (event) => {
                if (event.target === mobileMenuOverlay) { // Only close if clicking on the overlay itself
                    mobileMenuOverlay.classList.remove('open');
                    mobileMenu.classList.remove('open');
                }
            });

            mobileNavLinks.forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenuOverlay.classList.remove('open');
                    mobileMenu.classList.remove('open');
                });
            });

            // --- L√≥gica do Assistente Inteligente (Gemini API) ---
            askButton.addEventListener('click', async () => {
                const prompt = questionInput.value.trim();
                if (!prompt) {
                    answerOutput.classList.remove('hidden');
                    answerOutput.innerHTML = '<p class="text-red-500">Por favor, digite sua pergunta.</p>';
                    return;
                }

                buttonText.textContent = 'Pensando...';
                loadingSpinner.classList.remove('hidden');
                askButton.disabled = true;
                answerOutput.classList.add('hidden');

                try {
                    let chatHistory = [];
                    chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                    const payload = { contents: chatHistory };
                    const apiKey = "AIzaSyBSb4cRyqXBtw5-k1TN5eBcS_wHK_jlr3A";

                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        const errorData = await response.json();
                        throw new Error(`Erro na API: ${response.status} - ${errorData.error.message || response.statusText}`);
                    }

                    const result = await response.json();

                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        answerOutput.classList.remove('hidden');
                        answerOutput.innerHTML = `<p>${text}</p>`;
                    } else {
                        answerOutput.classList.remove('hidden');
                        answerOutput.innerHTML = '<p class="text-red-500">N√£o foi poss√≠vel obter uma resposta. Tente novamente.</p>';
                    }
                } catch (error) {
                    console.error('Erro ao chamar a API Gemini:', error);
                    answerOutput.classList.remove('hidden');
                    answerOutput.innerHTML = `<p class="text-red-500">Ocorreu um erro: ${error.message}. Por favor, tente novamente mais tarde.</p>`;
                } finally {
                    buttonText.textContent = 'Obter Resposta';
                    loadingSpinner.classList.add('hidden');
                    askButton.disabled = false;
                }
            });

            // --- L√≥gica de Marcar V√≠deos como Assistidos (localStorage) e Progresso da Playlist ---
            const WATCHED_VIDEOS_KEY = 'sabendoMaisWatchedVideos';

            const updatePlaylistProgress = (playlistCard) => {
                const allVideosInPlaylist = playlistCard.querySelectorAll('.video-item');
                const watchedVideosInPlaylist = playlistCard.querySelectorAll('.video-item.watched');

                const totalVideos = allVideosInPlaylist.length;
                const watchedCount = watchedVideosInPlaylist.length;
                const percentage = totalVideos > 0 ? (watchedCount / totalVideos) * 100 : 0;

                const progressBar = playlistCard.querySelector('.playlist-progress-bar');
                const progressText = playlistCard.querySelector('.playlist-progress-text');

                if (progressBar && progressText) {
                    progressBar.style.width = `${percentage}%`;
                    progressText.textContent = `${watchedCount}/${totalVideos} v√≠deos assistidos`;
                }
            };

            const saveWatchedVideo = (videoId) => {
                const watchedVideos = JSON.parse(localStorage.getItem(WATCHED_VIDEOS_KEY)) || {};
                watchedVideos[videoId] = true;
                localStorage.setItem(WATCHED_VIDEOS_KEY, JSON.stringify(watchedVideos));
            };

            const loadWatchedVideosAndProgress = () => {
                const watchedVideos = JSON.parse(localStorage.getItem(WATCHED_VIDEOS_KEY)) || {};
                document.querySelectorAll('.video-item').forEach(item => {
                    const videoId = item.dataset.videoId;
                    if (watchedVideos[videoId]) {
                        item.classList.add('watched');
                        const button = item.querySelector('.mark-watched-btn');
                        if (button) {
                            button.textContent = 'Assistido ‚úÖ';
                            button.disabled = true;
                            button.classList.remove('bg-green-600', 'hover:bg-green-700');
                            button.classList.add('bg-gray-400', 'cursor-not-allowed');
                        }
                    }
                });
                document.querySelectorAll('.playlist-card').forEach(updatePlaylistProgress);
            };

            document.querySelectorAll('.mark-watched-btn').forEach(button => {
                button.addEventListener('click', (event) => {
                    const videoItem = event.target.closest('.video-item');
                    const videoId = videoItem.dataset.videoId;
                    const playlistCard = event.target.closest('.playlist-card');

                    videoItem.classList.add('watched');
                    event.target.textContent = 'Assistido ‚úÖ';
                    event.target.disabled = true;
                    event.target.classList.remove('bg-green-600', 'hover:bg-green-700');
                    event.target.classList.add('bg-gray-400', 'cursor-not-allowed');
                    saveWatchedVideo(videoId);

                    if (playlistCard) {
                        updatePlaylistProgress(playlistCard);
                    }
                });
            });

            // --- L√≥gica de Embutir e Reproduzir V√≠deos do YouTube (MODAL) ---
            document.querySelectorAll('.video-thumbnail-wrapper.video-trigger').forEach(thumbnailWrapper => {
                thumbnailWrapper.addEventListener('click', (event) => {
                    const videoItem = event.target.closest('.video-item');
                    const videoId = videoItem.dataset.videoId;

                    // Abre o modal
                    videoModalOverlay.classList.add('open');

                    // Limpa qualquer player anterior e cria um novo
                    videoModalPlayerContainer.innerHTML = `<div id="modal-player-${videoId}" class="youtube-player"></div>`;

                    // Cria um novo player do YouTube no modal
                    youtubePlayers[videoId] = new YT.Player(`modal-player-${videoId}`, {
                        videoId: videoId,
                        playerVars: {
                            'autoplay': 1,
                            'controls': 1,
                            'rel': 0,
                            'modestbranding': 1
                        },
                        events: {
                            'onReady': (event) => {
                                event.target.playVideo();
                            },
                            'onStateChange': (event) => {
                                if (event.data === YT.PlayerState.ENDED) {
                                    const markButton = videoItem.querySelector('.mark-watched-btn');
                                    if (markButton && !markButton.disabled) {
                                        markButton.click();
                                    }
                                    videoModalOverlay.classList.remove('open');
                                    youtubePlayers[videoId].destroy();
                                    delete youtubePlayers[videoId];
                                } else if (event.data === YT.PlayerState.PAUSED || event.data === YT.PlayerState.BUFFERING || event.data === YT.PlayerState.CUED) {
                                     // No specific action needed for pause/buffering/cued in modal context
                                }
                            }
                        }
                    });
                });
            });

            // L√≥gica para fechar o modal
            videoModalCloseBtn.addEventListener('click', () => {
                videoModalOverlay.classList.remove('open');
                // Pausa e destr√≥i o player ao fechar o modal
                for (const id in youtubePlayers) {
                    if (youtubePlayers[id] && typeof youtubePlayers[id].stopVideo === 'function') {
                        youtubePlayers[id].stopVideo();
                        youtubePlayers[id].destroy();
                        delete youtubePlayers[id];
                    }
                }
            });


            // Carrega o status dos v√≠deos e o progresso das playlists ao carregar a p√°gina
            loadWatchedVideosAndProgress();

            // --- L√≥gica de Abrir/Fechar Se√ß√£o de Playlists ---
            const togglePlaylistsVisibility = (e) => {
                if (e) e.preventDefault(); // Prevent default if triggered by click
                playlistsContainer.classList.toggle('visible');
                // Opcional: rolar para a se√ß√£o de playlists se ela for aberta
                if (playlistsContainer.classList.contains('visible')) {
                    playlistsContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            };

            playlistToggleLinkDesktop.addEventListener('click', togglePlaylistsVisibility);
            playlistToggleLinkMobile.addEventListener('click', togglePlaylistsVisibility);


            // --- Carrossel de Depoimentos ---
            let currentTestimonialSlide = 0;
            const totalTestimonialSlides = testimonialSlides.children.length;

            const showTestimonialSlide = (index) => {
                if (index >= totalTestimonialSlides) {
                    currentTestimonialSlide = 0;
                } else if (index < 0) {
                    currentTestimonialSlide = totalTestimonialSlides - 1;
                } else {
                    currentTestimonialSlide = index;
                }
                testimonialSlides.style.transform = `translateX(-${currentTestimonialSlide * 100}%)`;

                testimonialDots.forEach((dot, i) => {
                    dot.classList.remove('active');
                    if (i === currentTestimonialSlide) {
                        dot.classList.add('active');
                    }
                });
            };

            testimonialDots.forEach(dot => {
                dot.addEventListener('click', (e) => {
                    const slideIndex = parseInt(e.target.dataset.slideIndex);
                    showTestimonialSlide(slideIndex);
                });
            });

            // Auto-play for testimonials carousel
            setInterval(() => {
                showTestimonialSlide(currentTestimonialSlide + 1);
            }, 5000); // Change slide every 5 seconds

            showTestimonialSlide(0); // Initialize first slide

            // --- Altern√¢ncia de Tema (Claro/Escuro) ---
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                document.documentElement.classList.add(savedTheme);
                if (savedTheme === 'dark') {
                    sunIcon.style.display = 'none';
                    moonIcon.style.display = 'block';
                } else {
                    sunIcon.style.display = 'block';
                    moonIcon.style.display = 'none';
                }
            } else {
                // Default to light theme if no preference is saved
                document.documentElement.classList.add('light');
                sunIcon.style.display = 'block';
                moonIcon.style.display = 'none';
            }

            themeToggleBtn.addEventListener('click', () => {
                if (document.documentElement.classList.contains('dark')) {
                    document.documentElement.classList.remove('dark');
                    document.documentElement.classList.add('light');
                    localStorage.setItem('theme', 'light');
                    sunIcon.style.display = 'block';
                    moonIcon.style.display = 'none';
                } else {
                    document.documentElement.classList.remove('light');
                    document.documentElement.classList.add('dark');
                    localStorage.setItem('theme', 'dark');
                    sunIcon.style.display = 'none';
                    moonIcon.style.display = 'block';
                }
            });

            // --- Carrega o status dos v√≠deos e o progresso das playlists ao carregar a p√°gina (ap√≥s todas as l√≥gicas estarem prontas) ---
            loadWatchedVideosAndProgress();
        }
    </script>
</body>
</html>
